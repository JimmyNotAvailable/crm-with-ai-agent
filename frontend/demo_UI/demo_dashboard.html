<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer 360 & Admin Console Demo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* --- 1. CORE VARIABLES & RESET --- */
        :root {
            --bg-body: #f4f6f8;
            --bg-card: #ffffff;
            --primary: #0065ff; /* Blue for Action */
            --secondary: #6b778c;
            --success: #36b37e; /* Green for Good/VIP */
            --warning: #ffab00;
            --danger: #ff5630; /* Red for Churn/Error */
            --text-dark: #172b4d;
            --border: #dfe1e6;
            --radius: 8px;
            --shadow: 0 1px 3px rgba(0,0,0,0.12);
            --header-h: 60px;
        }
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', sans-serif; }
        body { background: var(--bg-body); color: var(--text-dark); height: 100vh; overflow: hidden; display: flex; flex-direction: column; }

        /* --- 2. GLOBAL NAVIGATION (View Switcher) --- */
        .top-nav {
            height: 50px; background: #253858; color: white; display: flex; align-items: center; justify-content: space-between; padding: 0 20px;
        }
        .view-switcher button {
            background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: white; padding: 6px 12px; cursor: pointer; border-radius: 4px; margin-left: 10px; font-size: 13px;
        }
        .view-switcher button.active { background: var(--primary); border-color: var(--primary); font-weight: bold; }

        /* --- 3. LAYOUT CONTAINER --- */
        .main-container { flex: 1; overflow: hidden; position: relative; }
        .view-section { display: none; height: 100%; overflow-y: auto; padding: 20px; }
        .view-section.active { display: block; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* ==========================================================
           PH√ÇN H·ªÜ 1: CUSTOMER 360 UI
           ========================================================== */
        
        /* A. Customer Header */
        .c360-header { background: var(--bg-card); padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow); display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .cust-profile { display: flex; gap: 15px; align-items: center; }
        .cust-avatar { width: 64px; height: 64px; border-radius: 50%; object-fit: cover; border: 2px solid var(--border); }
        .cust-info h2 { font-size: 20px; margin-bottom: 5px; }
        .cust-tags { display: flex; gap: 8px; margin-top: 5px; }
        .tag { font-size: 11px; padding: 2px 8px; border-radius: 10px; font-weight: 600; text-transform: uppercase; }
        .tag-vip { background: #e3fcef; color: #006644; }
        .tag-churn { background: #ffebe6; color: #bf2600; }
        .sentiment-badge { display: flex; align-items: center; gap: 5px; font-size: 13px; color: var(--secondary); background: #f4f5f7; padding: 4px 10px; border-radius: 15px; }

        /* B. KPI Sparklines */
        .kpi-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 20px; }
        .kpi-card { background: var(--bg-card); padding: 15px; border-radius: var(--radius); box-shadow: var(--shadow); position: relative; }
        .kpi-label { font-size: 12px; color: var(--secondary); margin-bottom: 5px; }
        .kpi-value { font-size: 20px; font-weight: bold; color: var(--primary); }
        .sparkline { height: 4px; width: 100%; background: #eee; margin-top: 10px; border-radius: 2px; overflow: hidden; }
        .spark-bar { height: 100%; background: var(--primary); }

        /* C. Main Grid: AI Insights (Left) vs Timeline (Right) */
        .c360-body { display: grid; grid-template-columns: 300px 1fr 60px; gap: 20px; height: calc(100% - 180px); }
        
        /* AI Panel */
        .ai-panel { background: #f3f0ff; border: 1px solid #dcd6ff; border-radius: var(--radius); padding: 15px; height: fit-content; }
        .ai-title { color: #5243aa; font-weight: bold; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; }
        .insight-item { margin-bottom: 15px; background: white; padding: 10px; border-radius: 6px; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }
        .insight-label { font-size: 11px; color: var(--secondary); text-transform: uppercase; font-weight: 700; margin-bottom: 5px; }
        .churn-meter { height: 8px; background: #ddd; border-radius: 4px; overflow: hidden; margin-top: 5px; }
        .churn-fill { height: 100%; background: var(--success); width: 12%; } /* 12% Risk -> Green */

        /* Timeline & Orders */
        .center-panel { display: flex; flex-direction: column; gap: 20px; overflow-y: auto; padding-right: 5px; }
        
        /* Timeline Style */
        .timeline-container { background: var(--bg-card); padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow); }
        .timeline-item { display: flex; gap: 15px; margin-bottom: 20px; position: relative; }
        .timeline-item:last-child { margin-bottom: 0; }
        .timeline-item::before { content: ''; position: absolute; left: 14px; top: 30px; bottom: -20px; width: 2px; background: #ebecf0; z-index: 0; }
        .timeline-item:last-child::before { display: none; }
        
        .tl-icon { width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 14px; z-index: 1; flex-shrink: 0; }
        .tl-web { background: #0052cc; } /* Blue */
        .tl-cart { background: #36b37e; } /* Green */
        .tl-mail { background: #6554c0; } /* Purple */
        .tl-service { background: #ffab00; } /* Yellow */
        
        .tl-content { background: #f9f9f9; padding: 10px; border-radius: 6px; flex: 1; border: 1px solid #eee; }
        .tl-time { font-size: 11px; color: var(--secondary); font-weight: 600; margin-bottom: 2px; }
        .tl-text { font-size: 13px; }

        /* Order Table */
        .order-table-container { background: var(--bg-card); padding: 20px; border-radius: var(--radius); box-shadow: var(--shadow); }
        .simple-table { width: 100%; border-collapse: collapse; font-size: 13px; }
        .simple-table th { text-align: left; color: var(--secondary); padding: 10px 0; border-bottom: 2px solid #eee; }
        .simple-table td { padding: 12px 0; border-bottom: 1px solid #eee; }
        .status-badge { padding: 2px 8px; border-radius: 10px; font-size: 11px; font-weight: bold; }

        /* Quick Actions (Floating Right) */
        .quick-actions-bar { display: flex; flex-direction: column; gap: 10px; align-items: center; }
        .qa-btn { width: 40px; height: 40px; border-radius: 50%; border: none; background: white; box-shadow: 0 2px 5px rgba(0,0,0,0.2); cursor: pointer; color: var(--secondary); transition: 0.2s; display: flex; align-items: center; justify-content: center; font-size: 18px; }
        .qa-btn:hover { transform: scale(1.1); color: var(--primary); }
        .qa-btn.primary { background: var(--primary); color: white; }

        /* ==========================================================
           PH√ÇN H·ªÜ 2: ADMIN CONSOLE UI
           ========================================================== */
        
        .admin-layout { display: flex; height: 100%; gap: 20px; }
        .admin-sidebar { width: 220px; background: var(--bg-card); border-right: 1px solid var(--border); display: flex; flex-direction: column; padding: 20px 0; height: 100%; }
        .menu-item { padding: 12px 20px; cursor: pointer; color: var(--secondary); display: flex; align-items: center; gap: 10px; font-size: 14px; transition: 0.2s; }
        .menu-item:hover, .menu-item.active { background: #e9f2ff; color: var(--primary); border-right: 3px solid var(--primary); }
        
        .admin-content { flex: 1; overflow-y: auto; padding-right: 5px; }

        /* KB Management */
        .kb-toolbar { display: flex; justify-content: space-between; margin-bottom: 15px; }
        .btn-primary { background: var(--primary); color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 13px; }
        
        /* RAG Health Dashboard */
        .health-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 30px; }
        .health-card { background: white; padding: 20px; border-radius: var(--radius); text-align: center; border: 1px solid var(--border); }
        
        /* CSS Gauge (Fake) */
        .gauge { width: 100px; height: 50px; background: #eee; border-top-left-radius: 100px; border-top-right-radius: 100px; margin: 0 auto 10px; position: relative; overflow: hidden; }
        .gauge-fill { width: 100%; height: 100%; background: var(--success); transform-origin: bottom center; transform: rotate(0deg); transition: 1s; } 
        /* Rotate mapping: 0deg = 0%, 180deg = 100% */
        
        /* Sandbox Chat */
        .sandbox-container { display: flex; height: 500px; background: white; border: 1px solid var(--border); border-radius: var(--radius); }
        .sb-chat { flex: 1; border-right: 1px solid var(--border); display: flex; flex-direction: column; }
        .sb-debug { width: 35%; padding: 15px; background: #fafbfc; font-size: 12px; overflow-y: auto; }
        .sb-messages { flex: 1; padding: 20px; overflow-y: auto; background: #f4f5f7; }
        .sb-input { padding: 15px; border-top: 1px solid var(--border); display: flex; gap: 10px; }
        .sb-input input { flex: 1; padding: 10px; border: 1px solid var(--border); border-radius: 4px; outline: none; }
        
        .debug-item { margin-bottom: 15px; padding: 10px; background: white; border: 1px solid #eee; border-radius: 4px; }
        .debug-key { font-weight: bold; color: #555; margin-bottom: 4px; }
        .confidence-high { color: var(--success); font-weight: bold; }
    </style>
</head>
<body>

    <div class="top-nav">
        <div style="font-weight: bold; font-size: 16px;">ERP System v2.0</div>
        <div class="view-switcher">
            <span>Ch·∫ø ƒë·ªô xem:</span>
            <button class="active" onclick="switchView('c360', this)">Customer 360 (Agent)</button>
            <button onclick="switchView('admin', this)">Admin Console (RAG)</button>
        </div>
    </div>

    <div class="main-container">

        <section id="c360" class="view-section active">
            
            <div class="c360-header">
                <div class="cust-profile">
                    <img src="https://ui-avatars.com/api/?name=Nguyen+Van+A&background=random" class="cust-avatar" alt="Avatar">
                    <div class="cust-info">
                        <h2>Nguy·ªÖn VƒÉn An</h2>
                        <div style="font-size:13px; color:#555;">0909 123 456 ‚Ä¢ an.nguyen@email.com</div>
                        <div class="cust-tags">
                            <span class="tag tag-vip">VIP Member</span>
                            <span class="tag" style="background:#eee; color:#333">Returning</span>
                        </div>
                    </div>
                </div>
                <div class="sentiment-badge">
                    <i class="fa-regular fa-face-smile" style="color: green; font-size:16px;"></i>
                    <span>T√≠ch c·ª±c (AI Score: 8.5)</span>
                </div>
            </div>

            <div class="kpi-grid">
                <div class="kpi-card">
                    <div class="kpi-label">T·ªïng chi ti√™u</div>
                    <div class="kpi-value">12.530.000‚Ç´</div>
                    <div class="sparkline"><div class="spark-bar" style="width: 80%"></div></div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">S·ªë ƒë∆°n h√†ng</div>
                    <div class="kpi-value">28 ƒë∆°n</div>
                    <div class="sparkline"><div class="spark-bar" style="width: 60%"></div></div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Gi√° tr·ªã TB (AOV)</div>
                    <div class="kpi-value">420.000‚Ç´</div>
                    <div class="sparkline"><div class="spark-bar" style="width: 40%; background: #ffab00"></div></div>
                </div>
                <div class="kpi-card">
                    <div class="kpi-label">Mua g·∫ßn nh·∫•t</div>
                    <div class="kpi-value">3 ng√†y tr∆∞·ªõc</div>
                </div>
            </div>

            <div class="c360-body">
                
                <div class="ai-panel">
                    <div class="ai-title"><i class="fa-solid fa-wand-magic-sparkles"></i> AI Ph√¢n t√≠ch</div>
                    
                    <div class="insight-item">
                        <div class="insight-label">S·ªü th√≠ch d·ª± ƒëo√°n</div>
                        <ul style="padding-left: 20px; font-size: 13px; color: #333;">
                            <li>Y√™u th√≠ch ƒë·ªì c√¥ng ngh·ªá üéß</li>
                            <li>Quan t√¢m ph√¢n kh√∫c t·∫ßm trung</li>
                        </ul>
                    </div>

                    <div class="insight-item">
                        <div class="insight-label">H√†nh vi mua s·∫Øm</div>
                        <div style="font-size:13px;">Hay b·ªè gi·ªè h√†ng v√†o bu·ªïi t·ªëi (20h-22h)</div>
                    </div>

                    <div class="insight-item">
                        <div class="insight-label">Nguy c∆° r·ªùi b·ªè (Churn)</div>
                        <div style="display:flex; justify-content:space-between; font-size:12px; margin-bottom:2px;">
                            <span>Th·∫•p</span>
                            <strong>12%</strong>
                        </div>
                        <div class="churn-meter">
                            <div class="churn-fill"></div>
                        </div>
                    </div>

                    <div class="insight-item" style="border:1px solid #0052cc; background:#e9f2ff;">
                        <div class="insight-label" style="color:#0052cc;">Next Best Offer</div>
                        <div style="font-size:13px; font-weight:600;">G√≥i b·∫£o h√†nh m·ªü r·ªông (Upsell)</div>
                        <div style="font-size:12px; color:#555; margin-top:4px;">Do kh√°ch v·ª´a mua thi·∫øt b·ªã ƒëi·ªán t·ª≠ gi√° tr·ªã cao.</div>
                    </div>
                </div>

                <div class="center-panel">
                    
                    <h4 style="margin-bottom:10px; color:var(--text-dark);">H√†nh tr√¨nh kh√°ch h√†ng</h4>
                    <div class="timeline-container">
                        <div class="timeline-item">
                            <div class="tl-icon tl-service"><i class="fa-solid fa-headset"></i></div>
                            <div class="tl-content">
                                <div class="tl-time">11:05 - H√¥m nay</div>
                                <div class="tl-text">Chat v·ªõi CSKH qua Web: "H·ªèi v·ªÅ ch√≠nh s√°ch ƒë·ªïi tr·∫£ tai nghe"</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="tl-icon tl-mail"><i class="fa-regular fa-envelope-open"></i></div>
                            <div class="tl-content">
                                <div class="tl-time">10:51 - H√¥m nay</div>
                                <div class="tl-text">ƒê√£ m·ªü Email Marketing: "C·∫£m ∆°n ƒë√£ ƒëƒÉng k√Ω th√†nh vi√™n"</div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="tl-icon tl-cart"><i class="fa-solid fa-cart-arrow-down"></i></div>
                            <div class="tl-content">
                                <div class="tl-time">10:45 - H√¥m nay</div>
                                <div class="tl-text">Th√™m v√†o gi·ªè h√†ng: <b>Tai nghe Bluetooth Sony X</b></div>
                            </div>
                        </div>
                        <div class="timeline-item">
                            <div class="tl-icon tl-web"><i class="fa-regular fa-eye"></i></div>
                            <div class="tl-content">
                                <div class="tl-time">10:42 - H√¥m nay</div>
                                <div class="tl-text">Xem trang chi ti·∫øt s·∫£n ph·∫©m</div>
                            </div>
                        </div>
                    </div>

                    <h4 style="margin-bottom:10px; color:var(--text-dark);">ƒê∆°n h√†ng g·∫ßn ƒë√¢y</h4>
                    <div class="order-table-container">
                        <table class="simple-table">
                            <thead>
                                <tr>
                                    <th>M√£ ƒë∆°n</th>
                                    <th>Ng√†y t·∫°o</th>
                                    <th>T·ªïng ti·ªÅn</th>
                                    <th>K√™nh</th>
                                    <th>Tr·∫°ng th√°i</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><a href="#">#DH1234</a></td>
                                    <td>H√¥m qua</td>
                                    <td>1.200.000‚Ç´</td>
                                    <td>Website</td>
                                    <td><span class="status-badge" style="background:#e3fcef; color:green">Ho√†n th√†nh</span></td>
                                </tr>
                                <tr>
                                    <td><a href="#">#DH1230</a></td>
                                    <td>10/10/2023</td>
                                    <td>5.500.000‚Ç´</td>
                                    <td>Facebook</td>
                                    <td><span class="status-badge" style="background:#e3fcef; color:green">Ho√†n th√†nh</span></td>
                                </tr>
                                <tr>
                                    <td><a href="#">#DH1102</a></td>
                                    <td>05/09/2023</td>
                                    <td>450.000‚Ç´</td>
                                    <td>Zalo</td>
                                    <td><span class="status-badge" style="background:#ffebe6; color:red">ƒê√£ h·ªßy</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="quick-actions-bar">
                    <button class="qa-btn primary" title="T·∫°o ƒë∆°n h√†ng m·ªõi"><i class="fa-solid fa-plus"></i></button>
                    <button class="qa-btn" title="Ho√†n ti·ªÅn / Refund"><i class="fa-solid fa-rotate-left"></i></button>
                    <button class="qa-btn" title="T·∫°o Ticket"><i class="fa-regular fa-clipboard"></i></button>
                    <button class="qa-btn" title="G√°n th·∫ª kh√°ch h√†ng"><i class="fa-solid fa-tag"></i></button>
                </div>
            </div>
        </section>

        <section id="admin" class="view-section">
            <div class="admin-layout">
                
                <div class="admin-sidebar">
                    <div class="menu-item active"><i class="fa-solid fa-database"></i> Qu·∫£n l√Ω Tri th·ª©c (KB)</div>
                    <div class="menu-item"><i class="fa-solid fa-chart-line"></i> RAG Health</div>
                    <div class="menu-item"><i class="fa-solid fa-flask"></i> Testing Sandbox</div>
                    <div class="menu-item"><i class="fa-solid fa-gear"></i> C·∫•u h√¨nh h·ªá th·ªëng</div>
                </div>

                <div class="admin-content">
                    
                    <h2 style="margin-bottom:20px;">Kho t√†i li·ªáu (Knowledge Base)</h2>
                    <div class="kb-toolbar">
                        <input type="text" placeholder="T√¨m ki·∫øm b√†i vi·∫øt..." style="padding:8px; border:1px solid #ccc; border-radius:4px; width:300px;">
                        <div>
                            <button class="btn-primary" style="background:white; color:#333; border:1px solid #ccc; margin-right:10px;">Export Markdown</button>
                            <button class="btn-primary"><i class="fa-solid fa-cloud-arrow-up"></i> Import T√†i li·ªáu</button>
                        </div>
                    </div>
                    <div class="order-table-container" style="margin-bottom:30px;">
                        <table class="simple-table">
                            <thead>
                                <tr>
                                    <th>Ti√™u ƒë·ªÅ</th>
                                    <th>Danh m·ª•c</th>
                                    <th>C·∫≠p nh·∫≠t</th>
                                    <th>Tr·∫°ng th√°i Index</th>
                                    <th>H√†nh ƒë·ªông</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Ch√≠nh s√°ch ƒë·ªïi tr·∫£ 2024.pdf</td>
                                    <td>Ch√≠nh s√°ch</td>
                                    <td>2 gi·ªù tr∆∞·ªõc</td>
                                    <td><span class="status-badge" style="background:#e3fcef; color:green">Indexed</span></td>
                                    <td><i class="fa-solid fa-pen-to-square"></i></td>
                                </tr>
                                <tr>
                                    <td>H∆∞·ªõng d·∫´n ch·ªçn size gi√†y Nike.docx</td>
                                    <td>S·∫£n ph·∫©m</td>
                                    <td>1 ng√†y tr∆∞·ªõc</td>
                                    <td><span class="status-badge" style="background:#e3fcef; color:green">Indexed</span></td>
                                    <td><i class="fa-solid fa-pen-to-square"></i></td>
                                </tr>
                                <tr>
                                    <td>Quy tr√¨nh ho√†n ti·ªÅn v√≠ Momo.md</td>
                                    <td>Quy tr√¨nh</td>
                                    <td>V·ª´a xong</td>
                                    <td><span class="status-badge" style="background:#fff0b3; color:#ff9900">Processing...</span></td>
                                    <td><i class="fa-solid fa-spinner fa-spin"></i></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h2 style="margin-bottom:20px; border-top:1px solid #eee; padding-top:20px;">S·ª©c kh·ªèe RAG (Health Dashboard)</h2>
                    <div class="health-grid">
                        <div class="health-card">
                            <h4 style="margin-bottom:15px; color:#555;">Knowledge Coverage</h4>
                            <div class="gauge">
                                <div class="gauge-fill" style="transform: rotate(145deg); background: #36b37e;"></div> </div>
                            <div style="font-size:24px; font-weight:bold;">82%</div>
                            <div style="font-size:12px; color:green;">M·ª©c ƒë·ªô bao ph·ªß t·ªët</div>
                        </div>
                        <div class="health-card">
                            <h4 style="margin-bottom:15px; color:#555;">Precision of Answers</h4>
                            <div style="font-size:32px; font-weight:bold; color:var(--primary); margin:20px 0;">94.5%</div>
                            <div style="font-size:12px; color:#666;">D·ª±a tr√™n Test Set (1000 c√¢u)</div>
                        </div>
                        <div class="health-card">
                            <h4 style="margin-bottom:15px; color:#555;">Hallucination Rate</h4>
                            <div style="height:10px; width:100%; background:#eee; border-radius:5px; margin:25px 0; overflow:hidden;">
                                <div style="width:3.2%; height:100%; background:green;"></div>
                            </div>
                            <div style="font-size:24px; font-weight:bold;">3.2%</div>
                            <div style="font-size:12px; color:green;">Trong ng∆∞·ª°ng an to√†n (< 5%)</div>
                        </div>
                    </div>

                    <h2 style="margin-bottom:20px; border-top:1px solid #eee; padding-top:20px;">AI Debugging Sandbox</h2>
                    <div class="sandbox-container">
                        <div class="sb-chat">
                            <div class="sb-messages" id="sbMessages">
                                <div style="background:#e9f2ff; padding:10px; border-radius:8px; width:fit-content; margin-bottom:10px;">
                                    Ch√≠nh s√°ch ƒë·ªïi tr·∫£ gi√†y nh∆∞ th·∫ø n√†o?
                                </div>
                                <div style="background:white; padding:10px; border-radius:8px; width:fit-content; border:1px solid #eee;">
                                    D·∫°, theo Ch√≠nh s√°ch 2024, b·∫°n ƒë∆∞·ª£c ƒë·ªïi tr·∫£ trong v√≤ng 30 ng√†y n·∫øu s·∫£n ph·∫©m c√≤n nguy√™n tem m√°c v√† l·ªói do nh√† s·∫£n xu·∫•t.
                                </div>
                            </div>
                            <div class="sb-input">
                                <input type="text" id="sbInput" placeholder="Nh·∫≠p c√¢u h·ªèi test AI..." onkeypress="handleSandbox(event)">
                                <button class="btn-primary" onclick="sendSandbox()">G·ª≠i Test</button>
                            </div>
                        </div>
                        <div class="sb-debug" id="sbDebug">
                            <div class="debug-item">
                                <div class="debug-key">Sources (Tr√≠ch d·∫´n):</div>
                                <a href="#" style="color:blue;">[PDF] Chinh_sach_doi_tra_2024.pdf</a> (Trang 2)
                            </div>
                            <div class="debug-item">
                                <div class="debug-key">Similarity Score:</div>
                                <div>0.8921 (Cao)</div>
                            </div>
                            <div class="debug-item">
                                <div class="debug-key">Confidence Level:</div>
                                <div class="confidence-high">High (An to√†n)</div>
                            </div>
                            <div class="debug-item">
                                <div class="debug-key">RAG Process Log:</div>
                                <div style="color:#666; font-family:monospace;">> Query embedding... OK<br>> Retriever top-k=3... OK<br>> Generative step... OK</div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>

    </div>

    <script>
        // --- JAVASCRIPT SWITCHER LOGIC ---
        function switchView(viewId, btn) {
            // 1. Hide all sections
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            // 2. Show selected section
            document.getElementById(viewId).classList.add('active');
            
            // 3. Update button styles
            document.querySelectorAll('.view-switcher button').forEach(el => el.classList.remove('active'));
            btn.classList.add('active');
        }

        // --- SANDBOX DEMO LOGIC ---
        function handleSandbox(e) {
            if (e.key === 'Enter') sendSandbox();
        }

        function sendSandbox() {
            const input = document.getElementById('sbInput');
            const msgs = document.getElementById('sbMessages');
            const debug = document.getElementById('sbDebug');
            const text = input.value;

            if(!text.trim()) return;

            // Add user msg
            msgs.innerHTML += `<div style="background:#e9f2ff; padding:10px; border-radius:8px; width:fit-content; margin-bottom:10px; margin-left:auto;">${text}</div>`;
            input.value = '';

            // Simulate Bot Typing
            setTimeout(() => {
                msgs.innerHTML += `<div style="background:white; padding:10px; border-radius:8px; width:fit-content; border:1px solid #eee;">AI ƒëang ph√¢n t√≠ch t√†i li·ªáu...</div>`;
                msgs.scrollTop = msgs.scrollHeight;
                
                // Update Debug Panel (Mock Data)
                debug.innerHTML