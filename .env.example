# =============================================================================
# CRM-AI-Agent Environment Configuration
# =============================================================================
#
# SETUP INSTRUCTIONS:
#   1. Copy this file: cp .env.example .env
#   2. Fill in your actual API keys and secrets
#   3. Start databases: docker-compose -f docker/docker-compose.yml up -d
#   4. Run backend: python -m backend.main
#
# SECURITY: Never commit .env file to git (it's in .gitignore)
# =============================================================================

# ===== APPLICATION =====
APP_NAME=CRM-AI-Agent
APP_VERSION=1.0.0
DEBUG=true
ENVIRONMENT=development

# ===== SERVER =====
HOST=0.0.0.0
PORT=8000
RELOAD=true

# =============================================================================
# MICROSERVICES DATABASES (7 MySQL Instances)
# =============================================================================
# Local Dev: Use localhost with mapped ports (3310-3316)
# Docker:    Uses container names (mysql-identity, etc.) with port 3306
# =============================================================================

# 1. Identity Database (Users, Auth, Roles) - Port 3310
IDENTITY_DB_HOST=localhost
IDENTITY_DB_PORT=3310
IDENTITY_DB_USER=identity_user
IDENTITY_DB_PASSWORD=identity_pass
IDENTITY_DB_NAME=crm_identity_db

# 2. Product Database (Products, Categories) - Port 3311
PRODUCT_DB_HOST=localhost
PRODUCT_DB_PORT=3311
PRODUCT_DB_USER=product_user
PRODUCT_DB_PASSWORD=product_pass
PRODUCT_DB_NAME=crm_product_db

# 3. Order Database (Orders, Carts, Transactions) - Port 3312
ORDER_DB_HOST=localhost
ORDER_DB_PORT=3312
ORDER_DB_USER=order_user
ORDER_DB_PASSWORD=order_pass
ORDER_DB_NAME=crm_order_db

# 4. Support Database (Tickets, Conversations) - Port 3313
SUPPORT_DB_HOST=localhost
SUPPORT_DB_PORT=3313
SUPPORT_DB_USER=support_user
SUPPORT_DB_PASSWORD=support_pass
SUPPORT_DB_NAME=crm_support_db

# 5. Knowledge Database (KB Articles, FAQs) - Port 3314
KNOWLEDGE_DB_HOST=localhost
KNOWLEDGE_DB_PORT=3314
KNOWLEDGE_DB_USER=knowledge_user
KNOWLEDGE_DB_PASSWORD=knowledge_pass
KNOWLEDGE_DB_NAME=crm_knowledge_db

# 6. Analytics Database (Audit Logs, Metrics) - Port 3315
ANALYTICS_DB_HOST=localhost
ANALYTICS_DB_PORT=3315
ANALYTICS_DB_USER=analytics_user
ANALYTICS_DB_PASSWORD=analytics_pass
ANALYTICS_DB_NAME=crm_analytics_db

# 7. Marketing Database (Campaigns, Promotions) - Port 3316
MARKETING_DB_HOST=localhost
MARKETING_DB_PORT=3316
MARKETING_DB_USER=marketing_user
MARKETING_DB_PASSWORD=marketing_pass
MARKETING_DB_NAME=crm_marketing_db

# =============================================================================
# VECTOR DATABASE (ChromaDB)
# =============================================================================
CHROMA_PERSIST_DIRECTORY=./ai_modules/vector_store/chroma_db
CHROMA_COLLECTION_NAME=knowledge_base

# =============================================================================
# AI/LLM SETTINGS
# =============================================================================
# Google Gemini (Primary - Recommended)
# Get your API key at: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=
GEMINI_MODEL=gemini-2.0-flash

# OpenAI (Fallback)
# Get your API key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# Embedding Model (Local - SentenceTransformers)
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2

# Demo Mode (set to true to disable LLM calls - for testing)
DEMO_MODE=false

# =============================================================================
# RAG SETTINGS
# =============================================================================
CHUNK_SIZE=1000
CHUNK_OVERLAP=200
TOP_K_RETRIEVAL=5
SIMILARITY_THRESHOLD=0.7

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
SECRET_KEY=your-secret-key-for-jwt-signing-change-this-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# FILE UPLOAD
# =============================================================================
UPLOAD_DIR=./uploads
MAX_FILE_SIZE=10485760
ALLOWED_EXTENSIONS=pdf,docx,txt,md

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=./logs/app.log

# =============================================================================
# CORS SETTINGS
# =============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# AGENT SETTINGS
# =============================================================================
AGENT_MAX_ITERATIONS=5
AGENT_TIMEOUT_SECONDS=30

# =============================================================================
# SENTIMENT ANALYSIS
# =============================================================================
SENTIMENT_MODEL=textblob
